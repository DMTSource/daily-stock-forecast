<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="neon-animatable-behavior.html"><script>Polymer.NeonAnimationRunnerBehaviorImpl={_configureAnimations:function(a){var b=[],c=[];if(0<a.length)for(var d,e,f=0;d=a[f];f++)if(e=document.createElement(d.name),e.isNeonAnimation){var g=null;e.configure||(e.configure=function(){return null}),g=e.configure(d),c.push({result:g,config:d})}else console.warn(this.is+':',d.name,'not found!');for(var h=0;h<c.length;h++){var g=c[h].result,d=c[h].config;try{'function'!=typeof g.cancel&&(g=document.timeline.play(g))}catch(a){g=null,console.warn('Couldnt play','(',d.name,').',a)}g&&b.push({neonAnimation:e,config:d,animation:g})}return b},_shouldComplete:function(a){for(var b=!0,c=0;c<a.length;c++)if('finished'!=a[c].animation.playState){b=!1;break}return b},_complete:function(a){for(var b=0;b<a.length;b++)a[b].neonAnimation.complete(a[b].config);for(var b=0;b<a.length;b++)a[b].animation.cancel()},playAnimation:function(a,b){var c=this.getAnimationConfig(a);if(c){this._active=this._active||{},this._active[a]&&(this._complete(this._active[a]),delete this._active[a]);var d=this._configureAnimations(c);if(0==d.length)return void this.fire('neon-animation-finish',b,{bubbles:!1});this._active[a]=d;for(var e=0;e<d.length;e++)d[e].animation.onfinish=function(){this._shouldComplete(d)&&(this._complete(d),delete this._active[a],this.fire('neon-animation-finish',b,{bubbles:!1}))}.bind(this)}},cancelAnimation:function(){for(var a in this._active){var b=this._active[a];for(var c in b)b[c].animation.cancel()}this._active={}}},Polymer.NeonAnimationRunnerBehavior=[Polymer.NeonAnimatableBehavior,Polymer.NeonAnimationRunnerBehaviorImpl];</script></head><body></body></html>